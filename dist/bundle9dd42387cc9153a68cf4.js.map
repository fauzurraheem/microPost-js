{"version":3,"file":"bundle9dd42387cc9153a68cf4.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACO;;;;;;;;;;;;;;AC5DP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,WAAW;AAChD,mCAAmC,UAAU;AAC7C,0DAA0D,QAAQ;AAClE;AACA,4DAA4D,QAAQ;AACpE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;;;;;;UC/HP;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACN8B;AACL;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,2CAAQ;AACV,kBAAkB,4CAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAY;AAChB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM,4CAAS;AACf;AACA,QAAQ,6CAAY;AACpB,QAAQ,+CAAc;AACtB;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA,MAAM,2CAAQ,gCAAgC,GAAG;AACjD;AACA,QAAQ,6CAAY;AACpB,QAAQ,mDAAkB;AAC1B;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,iDAAW,gCAAgC,GAAG;AACpD;AACA,UAAU,6CAAY;AACtB,UAAU,mDAAkB;AAC5B,UAAU,+CAAc;AACxB,UAAU,gDAAe;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,4CAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,mDAAkB;AACtB;AACA;AACA","sources":["webpack://my-project/./src/http.js","webpack://my-project/./src/ui.js","webpack://my-project/webpack/bootstrap","webpack://my-project/webpack/runtime/define property getters","webpack://my-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-project/webpack/runtime/make namespace object","webpack://my-project/./src/index.js"],"sourcesContent":["// EasyHTTP library\r\n// library for making http requests\r\n\r\n// @version 3.0.0\r\n// @author fauzurraheem\r\n// @license who cares\r\n\r\n\r\n\r\nclass EasyHTTP{\r\n    //Get request\r\n    async get(url){\r\n       const response = await fetch(url);\r\n       const resData = await response.json();\r\n       return resData;\r\n    }\r\n\r\n    //Post request \r\n     async post (url, data) {\r\n        const response = await fetch( url, {\r\n            method:'POST',\r\n            headers: {\r\n                'Content-type' : 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n\r\n        })\r\n        const resData = await response.json();\r\n        return resData;\r\n    }\r\n\r\n\r\n    //PUT REQUEST\r\n    async put (url, data) {\r\n        const response = await fetch( url, {\r\n            method:'PUT',\r\n            headers: {\r\n                'Content-type' : 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n\r\n        })\r\n        const resData = await response.json();\r\n        return resData;\r\n    }\r\n\r\n    //DELETE REQUEST\r\n     async delete (url) {\r\n        const response = await fetch( url, {\r\n            method:'DELETE',\r\n            headers: {\r\n                'Content-type' : 'application/json'\r\n            }\r\n\r\n        })\r\n        const resData = await response.json();\r\n        return resData;\r\n    }\r\n}\r\n\r\nexport const http = new EasyHTTP();","class UI {\r\n  constructor(){\r\n    this.post = document.querySelector('#posts');\r\n    this.titleInput = document.querySelector('#title');\r\n    this.bodyInput= document.querySelector('#body');\r\n    this.idInput = document.querySelector('#id');\r\n    this.postSubmit = document.querySelector('.post-submit');\r\n    this.forSubmit = 'and';\r\n    this.postCancel = document.querySelector('.post-cancel');\r\n    \r\n\r\n  }\r\n\r\n  showPost(posts){\r\n    this.postCancel.style.display = 'none';\r\n\r\n   let output = '';\r\n    posts.forEach(function(post){\r\n      output += `\r\n        <div class=\"card mb-3\">\r\n          <div class= \"card-body\">\r\n            <h4 class=\"card-title\">${post.title}</h4>\r\n            <p class=\"card-text\">${post.body}</p>\r\n            <a href=\"#\" class=\"edit card-link\" data-id=\"${post.id}\">\r\n            <i class=\"fa fa-pencil\"></i></a>\r\n            <a href=\"#\" class=\"delete card-link\" data-id=\"${post.id}\">\r\n            <i class=\"fa fa-remove\"></i></a>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    this.post.innerHTML = output;\r\n  }\r\n  \r\n  showAlert(message, className){\r\n    this.clearAlert();\r\n\r\n    //create div\r\n    const div = document.createElement('div');\r\n    //add class\r\n    div.className = className;\r\n    //add text\r\n    div.appendChild(document.createTextNode(message));\r\n    //get parent\r\n    const continer = document.querySelector('.postsContainer');\r\n    //get post\r\n    const post = document.querySelector('#posts');\r\n    continer.insertBefore(div, post);\r\n\r\n    //timeout\r\n    setTimeout(()  => {\r\n      this.clearAlert();\r\n    }, 3000);\r\n  }\r\n\r\n  clearAlert(){\r\n   const currentAlert = document.querySelector('.alert');\r\n   if(currentAlert){\r\n    currentAlert.remove();\r\n   } \r\n  }\r\n\r\n  clearFields(){\r\n    this.bodyInput.value = '';\r\n    this.titleInput.value = ''; \r\n  }\r\n\r\n  fillForm(data){\r\n    this.titleInput.value = data.title;\r\n    this.bodyInput.value = data.body;\r\n    this.idInput.value = data.id;\r\n\r\n    this.changeFormState('edit');\r\n  }\r\n\r\n\r\n  //Clear Id hidden Value\r\n  clearIdInput(){\r\n    this.idInput.value = '';\r\n  }\r\n\r\n\r\n\r\n\r\n  changeFormState(type) {\r\n    if(type === 'edit') {\r\n      this.postSubmit.textContent= 'update';\r\n      this.postSubmit.className= 'post-submit btn btn-warning btn-block';\r\n\r\n      this.postCancel.style.display = 'block';\r\n\r\n\r\n\r\n    //   //Create Element\r\n    //   const button= document.createElement('button');\r\n    //   // add class name\r\n    //  button.className = 'post-cancel btn btn-light btn-block';\r\n    //   button.appendChild(document.createTextNode('Cancel Edit'));\r\n\r\n    //   //get parent\r\n    //   const cardForm = document.querySelector('.card-form');\r\n    //   const formEnd = document.querySelector('.form-end');\r\n\r\n    //   cardForm.insertBefore(button, formEnd);\r\n\r\n\r\n\r\n    } else{\r\n      this.postSubmit.textContent= 'Post it';\r\n      this.postSubmit.className= 'post-submit btn btn-primary btn-block';\r\n      //remove cancel button if there\r\n      if(document.querySelector('.post-cancel')){\r\n        document.querySelector('.post-cancel').remove();\r\n      }\r\n      // Clear ID from hidden field\r\n      this.clearIdInput();\r\n      // Clear text\r\n      this.clearFields();\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport const ui = new UI();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { http } from \"./http\";\r\nimport {ui}  from \"./ui\";\r\n\r\n//get posts on dom load\r\ndocument.addEventListener(\"DOMContentLoaded\", getPosts);\r\n\r\n//add post\r\ndocument.querySelector('.post-submit').addEventListener(\"click\", submitPost);\r\n\r\n//listen for delete\r\ndocument.querySelector('#posts').addEventListener('click', deletePost);\r\n\r\n//listen for Edit\r\ndocument.querySelector('#posts').addEventListener('click', enableEditState);\r\n\r\n//listen for cancel\r\ndocument.querySelector('.card-form').addEventListener('click', cancelEdit)\r\n\r\nfunction getPosts(){\r\n  http.get('http://localhost:3000/posts')\r\n    .then(data => ui.showPost(data))\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nfunction submitPost(){\r\n  const title = document.querySelector('#title').value;\r\n  const body = document.querySelector('#body').value;\r\n  const id = document.querySelector('#id').value;\r\n\r\n  const data = {\r\n    title,\r\n    body\r\n  }\r\n\r\n  \r\n  if (title === '' || body === ''){\r\n    ui.showAlert('Please fill in all fields', 'alert alert-danger');\r\n  }else{\r\n\r\n    //check if\r\n    if(id === ''){\r\n      \r\n      //CREate post\r\n      http.post('http://localhost:3000/posts', data)\r\n      .then(data => {\r\n        ui.showAlert('Post added', 'alert alert-success');\r\n        ui.clearFields();\r\n        getPosts();\r\n      })\r\n      .catch(err => console.log(err));\r\n      \r\n    } else{\r\n      //update\r\n      http.put(`http://localhost:3000/posts/${id}`, data)\r\n      .then(data => {\r\n        ui.showAlert('post updated', 'alert alert-success');\r\n        ui.changeFormState('add');\r\n        getPosts();\r\n      })\r\n      .catch(err => console.log(err));\r\n       \r\n    }\r\n   \r\n  }\r\n}\r\n\r\n//Delete post\r\nfunction deletePost(e){\r\n  if(e.target.parentElement.classList.contains('delete')){\r\n    const id = e.target.parentElement.dataset.id;\r\n    if(confirm('Are you sure')){\r\n      http.delete(`http://localhost:3000/posts/${id}`)\r\n        .then(data => {\r\n          ui.showAlert('Post Removed', 'alert alert-success');\r\n          ui.changeFormState('add');\r\n          ui.clearFields();\r\n          ui.clearIdInput();\r\n          getPosts();\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n  }\r\n  e.preventDefault();\r\n}\r\n\r\n//Edit state\r\nfunction enableEditState(e){\r\n  if(e.target.parentElement.classList.contains('edit')){\r\n    const id = e.target.parentElement.dataset.id;\r\n    const title = e.target.parentElement.previousElementSibling.previousElementSibling.textContent;\r\n    const body = e.target.parentElement.previousElementSibling.textContent;\r\n\r\n    const data = {\r\n      id,\r\n      title,\r\n      body\r\n    }\r\n\r\n    //Fill the form with current post\r\n    ui.fillForm(data);\r\n\r\n  }\r\n\r\n  e.preventDefault();\r\n}\r\n\r\n// cancel Edit State\r\nfunction cancelEdit(e){\r\n  if(e.target.classList.contains('post-cancel')){\r\n    ui.changeFormState('add');\r\n  }\r\n  e.preventDefault();\r\n}\r\n"],"names":[],"sourceRoot":""}